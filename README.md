# Тестовое приложение Qtim

## Сборка и запуск

### **Задать переменные окружения**

Создать файл [./.env](./.env) и заполнить по образцу [env.example](./.env.example)

### Docker

#### **Собрать и запустить контейнеры с БД и сервисом**

```bash
docker compose up -d --build
```

#### Установить пакеты

```bash
npm i
```

#### Провести миграцию

```bash
npm run migrate:prod
```

## Заполнение сид-данными

```bash
npm run seed
```

### Тесты

```bash
npm run test
```

### Lint

```bash
npm run lint
```

### Prettier

```bash
npm run format
```

## Swagger

- Интерфейс swagger с эндпоинтами доступен по адресу `/spec`

## Postman

- [Коллекция для postman](./knowledgebase.postman_collection.json)

## Использование

- Поиск по статьям доступен для незарегистрированных пользователей

- Регистрация

  - Сначала нужно создать пользователя с помощью эндпоинта `/auth/signup` передав body формата:

  ```json
  {
    "email": "{email}",
    "password": "password"
  }
  ```

  - Затем получить токен используя `/auth/login` с теми же данными в том же формате
  - Используя токен в заголовке `Authorization: Bearer {token}` можно создавать/редактировать/удалять статьи и пользователей
  - Описание всех эндпоинтов и типов данных доступно по эндпоинту `/spec` или в коллекции Postman
